<form>
  <div class="custom-option">
    <div class="option-label">
      <span>Color</span>
    </div>
    <div class="option-swatch">
        {% for variant in product.variants %}
            {%assign index = forloop.index | minus: 1%}
            <div class="swatch-wrapper">
                <input data-variant-title="{{ variant.title }}" data-variant-price="{{ variant.price | money }}" data-inventory-count="{{ variant.inventory_quantity }}" data-image-src="{{variant.image.src | img_url: 'master'}}" data-variant-id="{{variant.id}}" @change="onVariantChange($event)" type="radio" id="option{{forloop.index}}" name="swatch" value="white" {% if product.variants[index].id == product.selected_variant.id or product.variants[index].id == product.first_available_variant.id%} checked {% endif %}/> Â 
                <label for="option{{forloop.index}}">
                    {% if variant.inventory_quantity == 0 %}
                        <span class="slash"></span>
                    {% endif %}
                    <div class="color">
                        <span style="background-color: {{ variant.metafields.color.value }}"></span>
                    </div>
                    <div class="desc">
                        <span>{{ variant.title }}</span>
                        <span>
                            {% if variant.inventory_quantity != 0 %}
                                in stock
                            {% else %}
                                out of stock
                            {% endif %}
                        </span>
                    </div>
                </label>
            </div>
        {% endfor %}
    </div>
  </div>
</form>


