<!-- Author: John Mark Connect with me @ GitHub: johnmark14 -->

<!-- Start Section Main Product Page -->
<section class="section-product section-padding remove-extra">
    <div id="mainProduct" class="product-shell shell">
        <a href="/pages/choose" class="product-back">< Product Selection</a>
        <div class="product-body">
            <div class="columns is-centered is-variable is-5">
                <div class="column is-5 product-featured-img">
                    <figure class="image is-4by5" :style="{backgroundImage: `url(${variantImage})`}" data-product-{{-product.metafields.products.custom_tags-}}>
                        <img :src="variantImage" alt="{{ product.images[0].alt }}" loading="lazy">
                        <div v-html="myIcon" class="my-icon custom-{{-product.metafields.products.custom_tags-}}" :class="variantCutomClass" v-if="withIcons" v-if="withPersonalization"></div>
                        <div class="my-txts custom-{{-product.metafields.products.custom_tags-}}" :class="[{initials: thisInitials}, {vertical: thisVerticalText}]" v-if="withPersonalization">
                            <font class="txt-1" :class="variantCutomClass" v-text="textLineItems.text1" v-if="textLineItems.text1" :style="{fontFamily: fontStyle}"></font>
                            <font class="txt-2" :class="variantCutomClass" v-text="textLineItems.text2" v-if="textLineItems.text2" :style="{fontFamily: fontStyle}"></font>
                            <font class="txt-3" :class="variantCutomClass" v-text="textLineItems.text3" v-if="textLineItems.text3" :style="{fontFamily: fontStyle}"></font>
                            <font class="txt-4" :class="variantCutomClass" v-text="textLineItems.text4" v-if="textLineItems.text4" :style="{fontFamily: fontStyle}"></font>
                            <font class="txt-5" :class="variantCutomClass" v-text="textLineItems.text5" v-if="textLineItems.text5" :style="{fontFamily: fontStyle}"></font>
                        </div>
                    </figure>
                </div>
                <div class="column is-3">
                    <div class="container">
                        <div class="product-headings">
                            <div class="product-title">
                                <h1 class="g-heading-color">{{ product.title }}</h1>
                            </div>
                            <div class="product-price">
                                <p>Starts at 
                                    <span>{{ product.selected_or_first_available_variant.price | money }}</span>
                                </p>
                            </div>
                        </div>
                        <div class="product-options">
                            <!-- {% if product.options.size == 1 %}
                            1 variant
                            {% else %}
                            2 or more variant
                            {% endif %} -->
                            <div class="option-title">
                                <h4 class="g-heading-color">Choose your color</h4>
                            </div>
                            <div class="options-wrapper">
                                <div class="columns is-multiline is-variable is-2">
                                    {% for color_option in product.options_by_name['Color'].values %}
                                        <div class="column is-one-third">
                                            <div class="option option-color">
                                                <input type="radio" name="color" id="option-color-{{forloop.index}}" {%if forloop.index == 1%} checked {% endif %}>
                                                <label for="option-color-{{forloop.index}}" class="">
                                                    {% assign color_value = color_option | downcase %}
                                                    <div class="color g-p-{{-color_value | replace: " ","-"-}}"></div>
                                                    <div class="color-title opt-title"><span>{{color_option}}</span></div>
                                                </label>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    if(document.querySelector('#mainProduct')) {
        const MainProduct = Vue.createApp({
            name: "product Page",
            delimiters: ['${', '}'],
            data() {
                return {
                    variantImage: "{{ product.selected_or_first_available_variant.image.src | img_url: 'master'}}"
                }
            }
        }).mount('#mainProduct')
    }
</script>